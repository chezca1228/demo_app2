<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />

  <title>Class: V8::JavasriptError</title>

  <link rel="stylesheet" href="../rdoc.css" type="text/css" media="screen" />

  <script src="../js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/darkfish.js" type="text/javascript" charset="utf-8"></script>

</head>
<body id="top" class="class">

  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../index.html">Home</a>
          <a href="../index.html#classes">Classes</a>
          <a href="../index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li><a href="../lib/v8/error_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/v8/error.rb">lib/v8/error.rb</a></li>
          
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      
      <!-- Parent Class -->
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link">StandardError</p>
        
      </div>
      

      

      
      <!-- Namespace Contents -->
      <div id="namespace-list-section" class="section">
        <h3 class="section-header">Namespace</h3>
        <ul class="link-list">
          
          <li><span class="type">CLASS</span> <a href="JSError/Boundary.html">V8::JSError::Boundary</a></li>
          
        </ul>
      </div>
      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-c-new">::new</a></li>
          
          <li><a href="#method-i-backtrace">#backtrace</a></li>
          
          <li><a href="#method-i-in_javascript-3F">#in_javascript?</a></li>
          
          <li><a href="#method-i-in_ruby-3F">#in_ruby?</a></li>
          
          <li><a href="#method-i-initialize_unsafe">#initialize_unsafe</a></li>
          
          <li><a href="#method-i-parse_js_frames">#parse_js_frames</a></li>
          
          <li><a href="#method-i-syntax_error-3F">#syntax_error?</a></li>
          
        </ul>
      </div>
      

      
    </div>

    <div id="project-metadata">
      
      
      <div id="fileindex-section" class="section project-section">
        <h3 class="section-header">Files</h3>
        <ul>
        
          <li class="file"><a href="../ext/v8/Makefile.html">Makefile</a></li>
        
        </ul>
      </div>
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="../images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="../V8.html">V8</a></li>
        
          <li><a href="../V8/Access.html">V8::Access</a></li>
        
          <li><a href="../V8/Array.html">V8::Array</a></li>
        
          <li><a href="../V8/C.html">V8::C</a></li>
        
          <li><a href="../V8/C/Context.html">V8::C::Context</a></li>
        
          <li><a href="../V8/CLI.html">V8::CLI</a></li>
        
          <li><a href="../V8/CLI/Shell.html">V8::CLI::Shell</a></li>
        
          <li><a href="../V8/Context.html">V8::Context</a></li>
        
          <li><a href="../V8/Function.html">V8::Function</a></li>
        
          <li><a href="../V8/JSError.html">V8::JSError</a></li>
        
          <li><a href="../V8/JSError/Boundary.html">V8::JSError::Boundary</a></li>
        
          <li><a href="../V8/JSError.html">V8::JavasriptError</a></li>
        
          <li><a href="../V8/Object.html">V8::Object</a></li>
        
          <li><a href="../V8/Portal.html">V8::Portal</a></li>
        
          <li><a href="../V8/Portal/Caller.html">V8::Portal::Caller</a></li>
        
          <li><a href="../V8/Portal/ConstructorAdapter.html">V8::Portal::ConstructorAdapter</a></li>
        
          <li><a href="../V8/Portal/FunctionAdapter.html">V8::Portal::FunctionAdapter</a></li>
        
          <li><a href="../V8/Portal/FunctionAdapter/BindAndCall.html">V8::Portal::FunctionAdapter::BindAndCall</a></li>
        
          <li><a href="../V8/Portal/FunctionAdapter/Call.html">V8::Portal::FunctionAdapter::Call</a></li>
        
          <li><a href="../V8/Portal/Interceptors.html">V8::Portal::Interceptors</a></li>
        
          <li><a href="../V8/Portal/Interceptors/IndexedPropertyDeleter.html">V8::Portal::Interceptors::IndexedPropertyDeleter</a></li>
        
          <li><a href="../V8/Portal/Interceptors/IndexedPropertyEnumerator.html">V8::Portal::Interceptors::IndexedPropertyEnumerator</a></li>
        
          <li><a href="../V8/Portal/Interceptors/IndexedPropertyGetter.html">V8::Portal::Interceptors::IndexedPropertyGetter</a></li>
        
          <li><a href="../V8/Portal/Interceptors/IndexedPropertyQuery.html">V8::Portal::Interceptors::IndexedPropertyQuery</a></li>
        
          <li><a href="../V8/Portal/Interceptors/IndexedPropertySetter.html">V8::Portal::Interceptors::IndexedPropertySetter</a></li>
        
          <li><a href="../V8/Portal/Interceptors/Interceptor.html">V8::Portal::Interceptors::Interceptor</a></li>
        
          <li><a href="../V8/Portal/Interceptors/NamedPropertyDeleter.html">V8::Portal::Interceptors::NamedPropertyDeleter</a></li>
        
          <li><a href="../V8/Portal/Interceptors/NamedPropertyEnumerator.html">V8::Portal::Interceptors::NamedPropertyEnumerator</a></li>
        
          <li><a href="../V8/Portal/Interceptors/NamedPropertyGetter.html">V8::Portal::Interceptors::NamedPropertyGetter</a></li>
        
          <li><a href="../V8/Portal/Interceptors/NamedPropertyQuery.html">V8::Portal::Interceptors::NamedPropertyQuery</a></li>
        
          <li><a href="../V8/Portal/Interceptors/NamedPropertySetter.html">V8::Portal::Interceptors::NamedPropertySetter</a></li>
        
          <li><a href="../V8/Portal/Interceptors/PropertyAttributes.html">V8::Portal::Interceptors::PropertyAttributes</a></li>
        
          <li><a href="../V8/Portal/Proxies.html">V8::Portal::Proxies</a></li>
        
          <li><a href="../V8/Portal/Proxies/ClearJSProxy.html">V8::Portal::Proxies::ClearJSProxy</a></li>
        
          <li><a href="../V8/Portal/Proxies/ClearRubyProxy.html">V8::Portal::Proxies::ClearRubyProxy</a></li>
        
          <li><a href="../V8/Portal/Templates.html">V8::Portal::Templates</a></li>
        
          <li><a href="../V8/Portal/Templates/Release.html">V8::Portal::Templates::Release</a></li>
        
          <li><a href="../V8/StackFrame.html">V8::StackFrame</a></li>
        
          <li><a href="../V8/StackTrace.html">V8::StackTrace</a></li>
        
          <li><a href="../Object.html">Object</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    <h1 class="class">V8::JavasriptError</h1>

    <div id="description" class="description">
      
    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      

      
      <!-- Attributes -->
      <div id="attribute-method-details" class="method-section section">
        <h3 class="section-header">Attributes</h3>

        
        <div id="boundaries-attribute-method" class="method-detail">
          <a name="boundaries"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">boundaries</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          
          
          </div>
        </div>
        
        <div id="value-attribute-method" class="method-detail">
          <a name="value"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">value</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          
          
          </div>
        </div>
        
      </div><!-- attribute-method-details -->
      

      <!-- Methods -->
      
      <div id="public-class-method-details" class="method-section section">
        <h3 class="section-header">Public Class Methods</h3>

      
        <div id="new-method" class="method-detail ">
          <a name="method-c-new"></a>

          
          <div class="method-heading">
            <span class="method-name">new</span><span
              class="method-args">(try, to)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="new-source">
<pre>
<span class="ruby-comment"># File lib/v8/error.rb, line 6</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">try</span>, <span class="ruby-identifier">to</span>)
  <span class="ruby-ivar">@to</span> = <span class="ruby-identifier">to</span>
  <span class="ruby-keyword">super</span>(<span class="ruby-identifier">initialize_unsafe</span>(<span class="ruby-identifier">try</span>))
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
  <span class="ruby-ivar">@boundaries</span> = [<span class="ruby-constant">Boundary</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:rbframes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">backtrace</span>)]
  <span class="ruby-ivar">@value</span> = <span class="ruby-identifier">e</span>
  <span class="ruby-keyword">super</span>(<span class="ruby-string">You have uncovered what is probably a BUG in therubyracer exception code. An error report would be very helpful.JSError#initialize failed!: #{e.message}&quot;</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- new-source -->
            
          </div>

          

          
        </div><!-- new-method -->

      
      </div><!-- public-class-method-details -->
    
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="backtrace-method" class="method-detail ">
          <a name="method-i-backtrace"></a>

          
          <div class="method-heading">
            <span class="method-name">backtrace</span><span
              class="method-args">(*modifiers)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="backtrace-source">
<pre>
<span class="ruby-comment"># File lib/v8/error.rb, line 57</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">backtrace</span>(*<span class="ruby-identifier">modifiers</span>)
  <span class="ruby-identifier">trace_framework</span> = <span class="ruby-identifier">modifiers</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value">:framework</span>)
  <span class="ruby-identifier">trace_ruby</span> = <span class="ruby-identifier">modifiers</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">modifiers</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value">:ruby</span>)
  <span class="ruby-identifier">trace_javascript</span> = <span class="ruby-identifier">modifiers</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">modifiers</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value">:javascript</span>)
  <span class="ruby-identifier">mixed</span> = []
  <span class="ruby-identifier">rbcontext</span> = []
  <span class="ruby-identifier">jscontext</span> = []
  <span class="ruby-ivar">@boundaries</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">rbframes</span> = <span class="ruby-identifier">b</span>.<span class="ruby-identifier">rbframes</span>.<span class="ruby-identifier">dup</span>
    <span class="ruby-identifier">rbcontext</span>.<span class="ruby-identifier">reverse_each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">frame</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">frame</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">rbframes</span>.<span class="ruby-identifier">last</span>
        <span class="ruby-identifier">rbframes</span>.<span class="ruby-identifier">pop</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-keyword">break</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">trace_ruby</span>
    <span class="ruby-identifier">jsframes</span> = <span class="ruby-identifier">b</span>.<span class="ruby-identifier">jsframes</span>.<span class="ruby-identifier">dup</span>
    <span class="ruby-identifier">jscontext</span>.<span class="ruby-identifier">reverse_each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">frame</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">frame</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">jsframes</span>.<span class="ruby-identifier">last</span>
        <span class="ruby-identifier">jsframes</span>.<span class="ruby-identifier">pop</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-keyword">break</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">trace_javascript</span>
    <span class="ruby-identifier">rbcontext</span> = <span class="ruby-identifier">b</span>.<span class="ruby-identifier">rbframes</span>
    <span class="ruby-identifier">jscontext</span> = <span class="ruby-identifier">b</span>.<span class="ruby-identifier">jsframes</span>
    <span class="ruby-identifier">rbframes</span>.<span class="ruby-identifier">reject!</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-identifier">f</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/lib\/v8\/.*\.rb/</span>} <span class="ruby-keyword">unless</span> <span class="ruby-identifier">trace_framework</span>
    <span class="ruby-identifier">mixed</span>.<span class="ruby-identifier">unshift</span>(*<span class="ruby-identifier">rbframes</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">trace_ruby</span>
    <span class="ruby-identifier">mixed</span>.<span class="ruby-identifier">unshift</span>(*<span class="ruby-identifier">jsframes</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">trace_javascript</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">mixed</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- backtrace-source -->
            
          </div>

          

          
        </div><!-- backtrace-method -->

      
        <div id="in_javascript-3F-method" class="method-detail ">
          <a name="method-i-in_javascript-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">in_javascript?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="in_javascript-3F-source">
<pre>
<span class="ruby-comment"># File lib/v8/error.rb, line 53</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">in_javascript?</span>
  <span class="ruby-operator">!</span><span class="ruby-identifier">in_ruby?</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- in_javascript-3F-source -->
            
          </div>

          

          
        </div><!-- in_javascript-3F-method -->

      
        <div id="in_ruby-3F-method" class="method-detail ">
          <a name="method-i-in_ruby-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">in_ruby?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="in_ruby-3F-source">
<pre>
<span class="ruby-comment"># File lib/v8/error.rb, line 49</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">in_ruby?</span>
  <span class="ruby-ivar">@value</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Exception</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- in_ruby-3F-source -->
            
          </div>

          

          
        </div><!-- in_ruby-3F-method -->

      
        <div id="initialize_unsafe-method" class="method-detail ">
          <a name="method-i-initialize_unsafe"></a>

          
          <div class="method-heading">
            <span class="method-name">initialize_unsafe</span><span
              class="method-args">(try)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="initialize_unsafe-source">
<pre>
<span class="ruby-comment"># File lib/v8/error.rb, line 18</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize_unsafe</span>(<span class="ruby-identifier">try</span>)
  <span class="ruby-identifier">message</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">ex</span> = <span class="ruby-ivar">@to</span>.<span class="ruby-identifier">rb</span>(<span class="ruby-identifier">try</span>.<span class="ruby-constant">Exception</span>())
  <span class="ruby-ivar">@boundaries</span> = [<span class="ruby-constant">Boundary</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:rbframes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">caller</span>(<span class="ruby-value">3</span>), <span class="ruby-value">:jsframes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">parse_js_frames</span>(<span class="ruby-identifier">try</span>))]
  <span class="ruby-keyword">if</span> <span class="ruby-constant">V8</span><span class="ruby-operator">::</span><span class="ruby-constant">Object</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">ex</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">ex</span>[<span class="ruby-string">'message'</span>]
      <span class="ruby-identifier">message</span> = <span class="ruby-identifier">msg</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">message</span> = <span class="ruby-identifier">ex</span>.<span class="ruby-identifier">to_s</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">cause</span> = <span class="ruby-identifier">ex</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@native</span>).<span class="ruby-constant">GetHiddenValue</span>(<span class="ruby-string">&quot;TheRubyRacer::Cause&quot;</span>)
      <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">cause</span>.<span class="ruby-constant">IsEmpty</span>()
        <span class="ruby-identifier">prev</span> = <span class="ruby-identifier">cause</span>.<span class="ruby-constant">Value</span>()
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">prev</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">JSError</span>)
          <span class="ruby-ivar">@boundaries</span>.<span class="ruby-identifier">concat</span> <span class="ruby-identifier">prev</span>.<span class="ruby-identifier">boundaries</span>
          <span class="ruby-ivar">@value</span> = <span class="ruby-identifier">prev</span>.<span class="ruby-identifier">value</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-ivar">@value</span> = <span class="ruby-identifier">prev</span>
          <span class="ruby-ivar">@boundaries</span>.<span class="ruby-identifier">concat</span> [<span class="ruby-constant">Boundary</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:rbframes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">prev</span>.<span class="ruby-identifier">backtrace</span>)]
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-ivar">@value</span> = <span class="ruby-identifier">ex</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@value</span> = <span class="ruby-identifier">ex</span>
    <span class="ruby-identifier">message</span> = <span class="ruby-identifier">ex</span>.<span class="ruby-identifier">to_s</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">message</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- initialize_unsafe-source -->
            
          </div>

          

          
        </div><!-- initialize_unsafe-method -->

      
        <div id="parse_js_frames-method" class="method-detail ">
          <a name="method-i-parse_js_frames"></a>

          
          <div class="method-heading">
            <span class="method-name">parse_js_frames</span><span
              class="method-args">(try)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="parse_js_frames-source">
<pre>
<span class="ruby-comment"># File lib/v8/error.rb, line 90</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">parse_js_frames</span>(<span class="ruby-identifier">try</span>)
  <span class="ruby-comment">#I can't figure out why V8 is not capturing the stacktrace here</span>
  <span class="ruby-comment">#in terms of StackTrace and StackFrame objects, so we have to</span>
  <span class="ruby-comment">#parse the string.</span>
  <span class="ruby-identifier">raw</span> = <span class="ruby-ivar">@to</span>.<span class="ruby-identifier">rb</span>(<span class="ruby-identifier">try</span>.<span class="ruby-constant">StackTrace</span>())
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">raw</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">raw</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">syntax_error?</span>(<span class="ruby-identifier">try</span>)
    <span class="ruby-identifier">raw</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;\n&quot;</span>)[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>].<span class="ruby-identifier">tap</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">frames</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">frames</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">frame</span><span class="ruby-operator">|</span> <span class="ruby-identifier">frame</span>.<span class="ruby-identifier">strip!</span>; <span class="ruby-identifier">frame</span>.<span class="ruby-identifier">chomp!</span>(<span class="ruby-string">&quot;,&quot;</span>)}
    <span class="ruby-keyword">end</span>.<span class="ruby-identifier">reject</span>(&amp;<span class="ruby-value">:empty?</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">try</span>.<span class="ruby-constant">Message</span>()
    [<span class="ruby-node">&quot;at #{@to.rb(msg.GetScriptResourceName())}:#{msg.GetLineNumber()}:#{msg.GetStartColumn() + 1}&quot;</span>]
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- parse_js_frames-source -->
            
          </div>

          

          
        </div><!-- parse_js_frames-method -->

      
        <div id="syntax_error-3F-method" class="method-detail ">
          <a name="method-i-syntax_error-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">syntax_error?</span><span
              class="method-args">(try)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Syntax errors are weird in that they have a non-empty stack trace but it
does not contain any source location information, so in these instances, we
have to pull it out of the Message object in the TryCatch. Is there a
better way to detect a syntax error</p>
            

            
            <div class="method-source-code" id="syntax_error-3F-source">
<pre>
<span class="ruby-comment"># File lib/v8/error.rb, line 109</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">syntax_error?</span>(<span class="ruby-identifier">try</span>)
  <span class="ruby-identifier">ex</span> = <span class="ruby-ivar">@to</span>.<span class="ruby-identifier">rb</span>(<span class="ruby-identifier">try</span>.<span class="ruby-constant">Exception</span>())
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">ex</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">ex</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">V8</span><span class="ruby-operator">::</span><span class="ruby-constant">Object</span>)
    <span class="ruby-identifier">type</span> = <span class="ruby-identifier">ex</span>[<span class="ruby-string">&quot;constructor&quot;</span>]
    <span class="ruby-identifier">type</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">type</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">V8</span><span class="ruby-operator">::</span><span class="ruby-constant">Function</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">type</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;SyntaxError&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- syntax_error-3F-source -->
            
          </div>

          

          
        </div><!-- syntax_error-3F-method -->

      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  

  </div><!-- documentation -->

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>

</body>
</html>

